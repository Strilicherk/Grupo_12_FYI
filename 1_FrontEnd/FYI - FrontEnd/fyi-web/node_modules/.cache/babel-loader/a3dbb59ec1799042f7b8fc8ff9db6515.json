{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gigio\\\\Desktop\\\\tcc-chris\\\\Grupo_12_FYI\\\\FYI - FrontEnd\\\\fyi-web\\\\src\\\\pages\\\\login\\\\login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport '../../assets/css/Login/login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.efetuaLogin = event => {\n      event.preventDefault();\n      this.setState({\n        erroMenssagem: '',\n        isLoading: true\n      });\n      axios.post('http://localhost:5000/api/login', {\n        email: this.state.email,\n        senha: this.state.senha\n      }).then(resposta => {\n        if (resposta.status === 200) {\n          localStorage.setItem('adm-login', resposta.data.token);\n          console.log('Meu token é: ' + resposta.data.token);\n          this.setState({\n            isLoading: false\n          });\n        }\n      }).catch(() => {\n        this.setState({\n          erroMenssagem: 'Email ou senha inválidos!',\n          isLoading: false\n        });\n      });\n    };\n\n    this.atualizaStateCampo = campo => {\n      this.setState({\n        [campo.target.name]: campo.target.value\n      });\n    };\n\n    this.state = {\n      email: '',\n      senha: '',\n      erroMenssagem: '',\n      isLoading: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"bgimg\",\n        children: /*#__PURE__*/_jsxDEV(\"section\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.efetuaLogin,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"email\",\n                value: this.state.email,\n                onChange: this.atualizaStateCampo,\n                placeholder: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"senha\",\n                value: this.state.senha,\n                onChange: this.atualizaStateCampo,\n                placeholder: \"Senha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.erroMenssagem\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 29\n              }, this), this.state.isLoading === true && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: true,\n                children: \"Carregando...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this), this.state.isLoading === false && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: this.state.email === '' || this.state.senha === '' ? 'none' : '',\n                children: \"Entrar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 24\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\n;\nexport default Login;","map":{"version":3,"sources":["C:/Users/Gigio/Desktop/tcc-chris/Grupo_12_FYI/FYI - FrontEnd/fyi-web/src/pages/login/login.js"],"names":["React","Component","axios","Login","constructor","props","efetuaLogin","event","preventDefault","setState","erroMenssagem","isLoading","post","email","state","senha","then","resposta","status","localStorage","setItem","data","token","console","log","catch","atualizaStateCampo","campo","target","name","value","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport '../../assets/css/Login/login.css'\r\n\r\nclass Login extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            email : '',\r\n            senha : '',\r\n            erroMenssagem : '',\r\n            isLoading : false\r\n        }\r\n    };\r\n\r\n    efetuaLogin = (event) => {\r\n        event.preventDefault();\r\n\r\n        this.setState({ erroMenssagem : '', isLoading : true })\r\n\r\n        axios.post('http://localhost:5000/api/login', {\r\n            email : this.state.email,\r\n            senha : this.state.senha\r\n        })\r\n\r\n        .then(resposta => {\r\n            if (resposta.status === 200) {\r\n                localStorage.setItem('adm-login', resposta.data.token)\r\n\r\n                console.log('Meu token é: ' + resposta.data.token)\r\n\r\n                this.setState({ isLoading : false })\r\n            }\r\n        })\r\n\r\n        .catch(() => {\r\n            this.setState({ erroMenssagem : 'Email ou senha inválidos!', isLoading : false })\r\n        })\r\n\r\n    }\r\n\r\n    atualizaStateCampo = (campo) => {\r\n        this.setState({ [campo.target.name] : campo.target.value })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div >\r\n                <main className = \"bgimg\">\r\n                    <section>\r\n                       <div>\r\n                           <div/>\r\n                        <form onSubmit={this.efetuaLogin}>\r\n\r\n                            <input type=\"text\" \r\n                                   name=\"email\" \r\n                                   value={this.state.email} \r\n                                   onChange={this.atualizaStateCampo}\r\n                                   placeholder=\"Email\"\r\n                                   \r\n                            />\r\n\r\n                            <input type=\"password\" \r\n                                   name=\"senha\" \r\n                                   value={this.state.senha} \r\n                                   onChange={this.atualizaStateCampo}\r\n                                   placeholder=\"Senha\"\r\n                            />\r\n\r\n                            <p>{this.state.erroMenssagem}</p>\r\n\r\n                            {\r\n                                this.state.isLoading === true &&\r\n                                <button type=\"submit\" disabled>Carregando...</button>\r\n                            }\r\n                            {\r\n                                this.state.isLoading === false &&\r\n                                <button type=\"submit\" disabled={this.state.email === '' || this.state.senha === '' ? 'none' : ''}>\r\n                                    Entrar\r\n                                </button>\r\n                            }\r\n\r\n                            {/* <button type=\"submit\">\r\n                                Entrar\r\n                            </button> */}\r\n                        </form>\r\n                        </div>\r\n                    </section>\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}